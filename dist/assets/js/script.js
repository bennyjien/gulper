"use strict";var animate={fadeIn:function(e,t,o){var n=2<arguments.length&&void 0!==o?o:0;gsap.to(e,{display:"block",autoAlpha:1,duration:t,delay:n})},fadeOut:function(e,t,o){var n=2<arguments.length&&void 0!==o?o:0;gsap.to(e,{display:"none",autoAlpha:0,duration:t,delay:n})},slideDown:function(e,t,o){var n=2<arguments.length&&void 0!==o?o:0;gsap.set(e,{display:"block",overflow:"visible",autoAlpha:1,height:"auto"}),gsap.from(e,t,{overflow:"hidden",autoAlpha:0,height:0,duration:t,delay:n})},slideUp:function(e,t,o){var n=2<arguments.length&&void 0!==o?o:0;gsap.to(e,{display:"none",overflow:"hidden",autoAlpha:0,height:0,duration:t,delay:n})}};function smoothScroll(e,t){var o=t.dataset.scrollTarget||t.hash||"",n=document.querySelector("[id='".concat(o.substring(1),"']")),i=t.dataset.scrollDuration||.4,a=(document.querySelector(t.dataset.scrollOffset)||"").offsetHeight||0;n&&(gsap.to(window,{duration:i,scrollTo:{y:o,offsetY:a}}),e.preventDefault())}function getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}function hasChild(e,t){for(var o=t.parentNode;null!==o;){if(o==e)return!0;o=o.parentNode}return!1}function mousePos(e){var t=0,o=0;return(e=e||window.event).pageX||e.pageY?(t=e.pageX,o=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,o=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:o}}function elMover(e){document.querySelectorAll(e).forEach(function(e){return function(e){var t=e;t.insertAdjacentHTML("beforebegin",'<div class="js-mover-source"></div>');var o=t.previousElementSibling,n=document.querySelector(t.dataset.moverTarget),i=t.dataset.moverBreakpoint,a=document.documentElement.clientWidth;i<=a&&n.appendChild(t),window.addEventListener("resize",function(){a=document.documentElement.clientWidth,i<=a?t.parentNode!==n&&n.appendChild(t):t.parentNode!==o&&o.parentNode.insertBefore(t,o.nextSibling)})}(e)})}function equalHeighter(e){var t,o,n=0,i=0,a=[],s=0;function r(e){document.querySelectorAll(e).forEach(function(e){if((t=e).style.minHeight=0,s=t.getBoundingClientRect().top,i!==s){for(o=0;o<a.length;o++)a[o].style.minHeight=n+"px";a.length=0,i=s,n=t.offsetHeight,a.push(t)}else a.push(t),n=n<t.offsetHeight?t.offsetHeight:n;for(o=0;o<a.length;o++)a[o].style.minHeight=n+"px"})}r(e),window.addEventListener("resize",function(){n=0,r(e)})}function formFiler(e){document.querySelectorAll(e).forEach(function(e){var t=e.querySelector(".form-file-field"),o=t.querySelector(".input"),d=t.querySelector(".label"),n=t.querySelector(".remove"),u=d.querySelector(".placeholder"),i=u.innerHTML;function g(e){o.value="",u.innerHTML=i,d.classList.remove("has-placeholder"),e.preventDefault()}o.addEventListener("change",function(e){!function(e,t){var o=e.files,n="",i=0,a=!0,s=!1,r=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){i+=l.value.size}}catch(e){s=!0,r=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw r}}i=Math.round(i/1024/1024*100)/100,e.files&&1<e.files.length?n="".concat((e.getAttribute("data-multiple-placeholder")||"").replace("{count}",e.files.length)," (").concat(i,"MB)"):t.target.value&&(n="".concat(t.target.value.split("\\").pop(),' <span class="filesize">(').concat(i,"MB)</span>")),n?(u.innerHTML=n,d.classList.add("has-placeholder")):g(t)}(this,e)}),n&&n.addEventListener("click",function(e){g(e)})})}function formSetter(e){document.querySelectorAll(e).forEach(function(s){s.querySelectorAll(".input").forEach(function(t){t.addEventListener("focus",function(){this.parentNode.classList.add("is-filled")}),t.addEventListener("blur",function(){var e=this;setTimeout(function(){""===e.value&&e.parentNode.classList.remove("is-filled")},100)}),window.addEventListener("load",function(){var e=t.closest(".form-input-field");e&&(e.classList.add("is-loaded"),t.value&&e.classList.add("is-filled"))});var o=s.querySelector(".form-input-password .input"),e=s.querySelector(".form-input-password .action");e&&e.addEventListener("click",function(e){"password"===o.type?o.type="text":o.type="password",e.preventDefault()});var n=s.querySelector(".form-input-date");if(n){var i=n.querySelector(".input"),a=i.dataset.dateFormat?i.dataset.dateFormat:"DD-MM-YYYY";new Pikaday({field:i,format:a,minDate:new Date})}})})}function scrollAnimater(e){var t=document.querySelectorAll(e),u=document.querySelector("#site-container"),g=new ScrollMagic.Controller({refreshInterval:0});t.forEach(function(t){var o=t.children,n=t.dataset.sceneHook||.8,i=t.dataset.sceneOffset||0,a=t.dataset.sceneStagger||0,s=t.dataset.sceneStaggerDuration||2*a,r=t.dataset.sceneParallax||0,e=t.dataset.sceneParallaxSpeed||1,l=t.dataset.sceneParallaxType||"transform",c=r?t.offsetHeight/e:0,d=!a;imagesLoaded(u,function(){var e;t.magic=new ScrollMagic.Scene({triggerElement:t,triggerHook:n,duration:c,offset:i,reverse:d}).setClassToggle(t,"in-viewport").addTo(g),r&&("transform"===l?e=gsap.from(t,{duration:1,y:"".concat(r,"%")}):"background"===l&&(e=gsap.from(t,{duration:1,backgroundPositionY:"".concat(r,"%")})),t.magic.setTween(e)),a&&t.magic.on("start",function(){gsap.to(o,{duration:s,stagger:{amount:a,onStart:function(){this._targets[0].classList.add("in-viewport")}}})})})})}function scrollViewer(e){var t=document.querySelectorAll(e),a=new ScrollMagic.Controller;t.forEach(function(e){e.addEventListener("click",function(e){smoothScroll(e,this)}),function(t){var e=t.dataset.scrollTarget||t.hash||"",o=document.querySelector('[id="'.concat(e.substring(1),'"]')),n=o.offsetHeight;function i(){return n=o.offsetHeight}imagesLoaded(o,function(){var e=new ScrollMagic.Scene({triggerElement:o,triggerHook:.5,duration:n,reverse:!0}).setClassToggle([t,o],"in-viewport").addTo(a);window.addEventListener("resize",i),e.duration(i)})}(e)})}function tabber(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=document.querySelectorAll(e);function r(e,t){t.forEach(function(e){e.hidden=!0}),e.forEach(function(e){e.setAttribute("aria-selected",!1)})}t.length&&t.forEach(function(e){var t=e.querySelectorAll('[role="tab"]'),o=e.querySelectorAll('[role="tabpanel"]'),n=e.hasAttribute("data-tab-deeplink")||a.deeplink,i=getParameterByName("tab");e.addEventListener("click",function(e){e.target.matches('[role="tab"]')&&function(e,t,o,n){r(t,o),e.target.setAttribute("aria-selected",!0);var i=e.target.id;(o=Array.from(o)).find(function(e){return e.getAttribute("aria-labelledby")===i}).hidden=!1,n&&window.history&&history.pushState&&history.replaceState("","","?tab=".concat(i))}(e,t,o,n)}),function(e,t,o,n,i){var a,s;r(t,o),n&&i&&(a=e.querySelector("#".concat(i)),s=e.querySelector("[aria-labelledby=".concat(i,"]"))),a||(a=e.querySelector('[role="tab"]'),s=e.querySelector('[role="tabpanel"]')),a.setAttribute("aria-selected",!0),s.hidden=!1}(e,t,o,n,i)})}function toggler(L){var S=document.querySelector("body"),e=document.querySelectorAll(L),w=L.substring(1);function n(e,t){var o=t.dataset.toggleTrigger||"click",n=t.dataset.toggleTarget||t.hash,i=document.querySelector(n),a=document.querySelector(t.dataset.toggleArea)||t,s=document.querySelector(t.dataset.toggleFocus),r=t.dataset.toggleAnimation||"slide",l=t.dataset.toggleDuration||.2,c=t.dataset.toggleIteration||"infinite",d=t.dataset.scrollTarget,u=t.dataset.toggleKeyclose||!1,g=n.substring(1),f=!t.dataset.toggleTarget,m=!1;if(n===t.hash&&(m=!0),!i)return!1;if(!t.classList.contains(w))return!1;if("mouseenter"===e.type||"touchstart"===e.type){if("hover"===o){var v=a.querySelectorAll("".concat(L,".is-toggled"));"once"===c&&t.classList.remove(w),v.forEach(function(e){e!==t&&e.classList.remove("is-toggled")});var h=a.querySelectorAll(".is-toggled"),p=[];h.forEach(function(e){e!==t&&e!==i&&p.push(e)}),"slide"===r?p.forEach(function(e){animate.slideUp(e,l/2)}):"fade"===r&&p.forEach(function(e){animate.fadeOut(e,l/2)}),p.forEach(function(e){return e.classList.remove("is-toggled")}),!1===t.classList.contains("is-toggled")&&(t.classList.add("is-toggled"),i.classList.add("is-toggled"),"slide"===r?animate.slideDown(i,l,l/2):"fade"===r&&animate.fadeIn(i,l,l/2)),a.addEventListener("mouseleave",function(e){E(e,t,o,i,a,r,l,g)}),S.addEventListener("click",function(e){E(e,t,o,i,a,r,l,g)}),S.addEventListener("touchend",function(e){E(e,t,o,i,a,r,l,g)})}}else if("click"===e.type)if("hover"===o&&!0===m)e.preventDefault();else if("click"===o){if("once"===c&&t.classList.replace(w,"".concat(w,"-inactive")),t.classList.contains("is-toggled")||i.classList.contains("is-toggled")||"none"!==window.getComputedStyle(i).getPropertyValue("display")){if(!hasChild(t,a)){var y=document.querySelectorAll("."+g+"-toggler");y.forEach(function(e){e.classList.replace("".concat(w,"-inactive"),w),e.classList.remove("is-toggled"),e.classList.remove(g+"-toggler"),e.classList.add("is-untoggling")}),i.classList.remove("is-toggled"),i.classList.add("is-untoggling"),S.classList.add(g+"-is-untoggling"),setTimeout(function(){y.forEach(function(e){e.classList.remove("is-untoggling")}),i.classList.remove("is-untoggling"),S.classList.remove(g+"-is-toggled",g+"-is-untoggling")},l),"slide"===r?animate.slideUp(i,l/2):"fade"===r&&animate.fadeOut(i,l/2)}}else t.classList.add("is-toggling"),i.classList.add("is-toggling"),S.classList.add(g+"-is-toggling"),setTimeout(function(){t.classList.remove("is-toggling"),t.classList.add("is-toggled"),t.classList.add(g+"-toggler"),i.classList.remove("is-toggling"),i.classList.add("is-toggled"),S.classList.remove(g+"-is-toggling"),S.classList.add(g+"-is-toggled"),s&&s.focus()},l),d&&smoothScroll(e,t),"slide"===r?animate.slideDown(i,l):"fade"===r&&animate.fadeIn(i,l),S.addEventListener("click",function(e){E(e,t,o,i,a,r,l,g)}),S.addEventListener("touchend",function(e){E(e,t,o,i,a,r,l,g)}),"true"===u&&document.addEventListener("keydown",function(e){27===e.keyCode&&E(e,t,o,i,a,r,l,g)});!0==f&&e.preventDefault()}}function E(e,t,o,n,i,a,s,r){(t.classList.contains("is-toggled")||n.classList.contains("is-toggled"))&&("hover"===o&&"click"!==e.type||"click"===o&&"keydown"===e.type?(t.classList.remove("is-toggled"),t.classList.add("is-untoggling"),n.classList.remove("is-toggled"),n.classList.add("is-untoggling"),setTimeout(function(){t.classList.remove("is-untoggling"),n.classList.remove("is-untoggling")},s),"slide"===a?animate.slideUp(n,s/2):"fade"===a&&animate.fadeOut(n,s/2)):t===e.target||hasChild(t,e.target)||i===e.target||hasChild(i,e.target)||(t.classList.remove("is-toggled"),t.classList.add("is-untoggling"),n.classList.remove("is-toggled"),n.classList.add("is-untoggling"),S.classList.add(r+"-is-untoggling"),setTimeout(function(){t.classList.remove("is-untoggling"),n.classList.remove("is-untoggling"),S.classList.remove(r+"-is-toggled",r+"-is-untoggling")},s),"slide"===a?animate.slideUp(n,s/2):"fade"===a&&animate.fadeOut(n,s/2)))}e.forEach(function(e){!function(e){var t=new MouseEvent("click"),o=new MouseEvent("mouseenter");"toggled"===e.dataset.toggleState&&(n(t,e),n(o,e))}(e),e.addEventListener("click",function(e){n(e,this)}),e.addEventListener("mouseenter",function(e){n(e,this)}),e.addEventListener("touchstart",function(e){n(e,this)})})}elMover.version="1.0.0",equalHeighter.version="1.0.0",formFiler.version="1.0.0",formSetter.version="1.0.0",scrollAnimater.version="1.0.0",scrollViewer.version="1.0.0",tabber.version="2.0.0",toggler.version="2.0.0",imagesLoaded("#site-container",function(){document.body.classList.remove("site-loading")}),fluidvids.init({selector:[".js-video"],players:["www.youtube.com"]}),elMover(".js-mover"),formFiler(".js-form-file"),formSetter(".js-form-input"),scrollAnimater(".js-scene"),scrollViewer(".js-scroll"),tabber(".js-tab"),toggler(".js-toggle");